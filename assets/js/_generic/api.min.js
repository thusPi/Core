HomioPi_assign("api",{call:(e,o)=>{e=`${HomioPi.data.webroot}/api/${e}/`;let n={},t=localStorage.getItem("HomioPi_tokenId"),r=localStorage.getItem("HomioPi_token");return null!==r&&null!==t&&(n["x-token-id"]=t,n["x-token"]=r),new Promise(((t,r)=>{let a;$.ajax({method:"POST",data:o,url:e,headers:n,async:!0,beforeSend:function(){a=Date.now()},success:function(e){return void 0===e.success||!0!==e.success?(r(e),!1):(e.took=Date.now()-a,t(e),!0)},error:function(e){return e.responseJSON?("error_authorization"==e.responseJSON?.info&&HomioPi.page.load("login/main?redirect=home/main",!0),r(e.responseJSON)):r(e),!1}})}))}});