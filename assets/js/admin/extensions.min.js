thusPiAssign("admin.extensions",{print_list(e){thusPi.api.call("extensions/search",{query:e}).then((function(e){const n=$(".extension-search-results");n.empty(),$.each(e.data,(function(e,t){const i=thusPi.template.get(".extension-brief");i.find(".extension-name").text(t.name),i.find(".extension-description").text(t.description||t.name),i.find(".extension-owner").text(t.repository.owner.name),i.find(".extension-stars").text(t.repository.stars_count),i.find(".extension-issues").text(t.repository.open_issues_count),i.find(".extension-pushed-ago").text(t.repository.pushed_ago),i.attr("data-verified",t.verified),i.attr("href",`/#/admin/extensions/view/?id=${t.id}`),i.appendTo(n)}))}))},install(e){$('[data-extension-action="install"]').showLoading(),thusPi.api.call("extensions/install",{id:e}).then((function(e){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.installed",[e.data.name])),$('[data-extension-action="install"]').hideLoading(),thusPi.page.reload()})).catch((function(e){$('[data-extension-action="install"]').hideLoading(),thusPi.message.error(e.data)}))},uninstall(e){$('[data-extension-action="uninstall"]').showLoading(),setTimeout((function(){thusPi.api.call("extensions/uninstall",{id:e}).then((function(e){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.uninstalled",[e.data.name])),$('[data-extension-action="uninstall"]').hideLoading(),thusPi.page.reload()})).catch((function(e){$('[data-extension-action="uninstall"]').hideLoading(),thusPi.message.error()}))}),1500)},enable(e){$('[data-extension-action="enable"]').showLoading(),setTimeout((function(){thusPi.api.call("extensions/toggle",{id:e,action:"enable"}).then((function(e){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.enabled",[e.data.name])),$('[data-extension-action="enable"]').hideLoading(),thusPi.page.reload()})).catch((function(e){$('[data-extension-action="enable"]').hideLoading(),thusPi.message.error()}))}),250)},disable(e){$('[data-extension-action="disable"]').showLoading(),setTimeout((function(){thusPi.api.call("extensions/toggle",{id:e,action:"disable"}).then((function(e){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.disabled",[e.data.name])),$('[data-extension-action="disable"]').hideLoading(),thusPi.page.reload()})).catch((function(e){$('[data-extension-action="disable"]').hideLoading(),thusPi.message.error()}))}),250)}});