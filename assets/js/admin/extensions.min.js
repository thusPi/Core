thusPiAssign("admin.extensions",{print_list:e=>{thusPi.api.call("extensions/search",{query:e}).then((e=>{const i=$(".extension-search-results");i.empty(),$.each(e.data,(function(e,n){const a=thusPi.template.get(".extension-brief");a.find(".extension-name").text(n.name),a.find(".extension-description").text(n.description||n.name),a.find(".extension-owner").text(n.repository.owner.name),a.find(".extension-stars").text(n.repository.stars_count),a.find(".extension-issues").text(n.repository.open_issues_count),a.find(".extension-pushed-ago").text(n.repository.pushed_ago),a.attr("data-verified",n.verified),a.attr("href",`/#/admin/extensions/view/?id=${n.id}`),a.appendTo(i)}))}))},install:e=>{$('[data-extension-action="install"]').showLoading(),thusPi.api.call("extensions/install",{id:e}).then((e=>{thusPi.message.send(thusPi.locale.translate("admin.extensions.message.installed",[e.data.name])),$('[data-extension-action="install"]').hideLoading(),thusPi.page.reload()}))},uninstall:e=>{$('[data-extension-action="uninstall"]').showLoading(),setTimeout((()=>{thusPi.api.call("extensions/uninstall",{id:e}).then((e=>{thusPi.message.send(thusPi.locale.translate("admin.extensions.message.uninstalled",[e.data.name])),$('[data-extension-action="enable"]').hideLoading(),thusPi.page.reload()}))}),1500)},enable:e=>{$('[data-extension-action="enable"]').showLoading(),setTimeout((()=>{thusPi.api.call("extensions/toggle",{id:e,action:"enable"}).then((e=>{thusPi.message.send(thusPi.locale.translate("admin.extensions.message.enabled",[e.data.name])),$('[data-extension-action="enable"]').hideLoading(),thusPi.page.reload()}))}),250)},disable:e=>{$('[data-extension-action="disable"]').showLoading(),setTimeout((()=>{thusPi.api.call("extensions/toggle",{id:e,action:"disable"}).then((e=>{thusPi.message.send(thusPi.locale.translate("admin.extensions.message.disabled",[e.data.name])),$('[data-extension-action="disable"]').hideLoading(),thusPi.page.reload()}))}),250)}});