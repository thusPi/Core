thusPiAssign("admin.extensions",{install(n){$('[data-extension-action="install"]').showLoading(),thusPi.api.call("extensions/install",{id:n}).then((function(n){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.installed",[n.data.name])),$('[data-extension-action="install"]').hideLoading(),thusPi.page.reload()})).catch((function(n){$('[data-extension-action="install"]').hideLoading(),thusPi.message.error(n.data)}))},uninstall(n){$('[data-extension-action="uninstall"]').showLoading(),setTimeout((function(){thusPi.api.call("extensions/uninstall",{id:n}).then((function(n){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.uninstalled",[n.data.name])),$('[data-extension-action="uninstall"]').hideLoading(),thusPi.page.reload()})).catch((function(n){$('[data-extension-action="uninstall"]').hideLoading(),thusPi.message.error()}))}),1500)},enable(n){$('[data-extension-action="enable"]').showLoading(),setTimeout((function(){thusPi.api.call("extensions/toggle",{id:n,action:"enable"}).then((function(n){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.enabled",[n.data.name])),$('[data-extension-action="enable"]').hideLoading(),thusPi.page.reload()})).catch((function(n){$('[data-extension-action="enable"]').hideLoading(),thusPi.message.error()}))}),250)},disable(n){$('[data-extension-action="disable"]').showLoading(),setTimeout((function(){thusPi.api.call("extensions/toggle",{id:n,action:"disable"}).then((function(n){thusPi.message.send(thusPi.locale.translate("admin.extensions.message.disabled",[n.data.name])),$('[data-extension-action="disable"]').hideLoading(),thusPi.page.reload()})).catch((function(n){$('[data-extension-action="disable"]').hideLoading(),thusPi.message.error()}))}),250)}}),$(document).on("thuspi.ready",(function(){if("admin/extensions/main"!=thusPi.page.current())return!1;const n=$(".extension-search");thusPi.api.call("extensions/catalogue").then((function(e){$.each(e.data,(function(e,a){n.data("input").addResult({value:a.id,text:a.name,description:`\n                    <i class="far fa-user icon icon icon-scale-text text-blue"></i>\n                    <span>${a.repository.owner.name}</span>\n                    <span>|</span>\n                    <i class="far fa-star icon icon icon-scale-text text-yellow"></i>\n                    <span>${a.repository.stars_count}</span>\n                    <span>|</span>\n                    <i class="far fa-dot-circle icon icon icon-scale-text text-red d-none d-sm-inline"></i>\n                    <span class="d-none d-sm-inline">${a.repository.open_issues_count}</span>\n                    <span class="d-none d-sm-inline">|</span>\n                    <i class="far fa-code-commit icon icon icon-scale-text text-green"></i>\n                    <span>${a.repository.pushed_ago}</span>`,href:`#/admin/extensions/view/?id=${a.id}`})}))})),thusPi.api.call("extensions/catalogue",{category:"popular"}).then((function(n){}))}));