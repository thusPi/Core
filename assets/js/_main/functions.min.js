function round(e,t=2){let n=Math.pow(10,t);return Math.round(e*n)/n}function showPopup(e){e.hasClass("popup")||(e=e.parents(".popup")),e.addClass("show"),$(".popup-shield").addClass("show")}function trim(e,t=" "){let n=0,o=e.length;for(;n<o&&t.indexOf(e[n])>=0;)++n;for(;o>n&&t.indexOf(e[o-1])>=0;)--o;return n>0||o<e.length?e.substring(n,o):e}function closestArrayItem(e,t){return t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t))}function naturalJoin(e,t=", ",n="and"){let o=!1;if(e.length>1){let i=e[e.length-1];e.splice(e.length-1,1),o=e.join(t)+n+i}else o=e[0];return o}function hidePopup(e){e.hasClass("popup")||(e=e.parents(".popup")),e.removeClass("show"),0==$(".popup.show").length&&$(".popup-shield").removeClass("show")}function numRange(e,t,n=1){e=parseFloat(e),t=parseFloat(t),n=parseFloat(n);let o=[];for(let i=e;i<=t;i+=n)o.push(i);return o}function throttle(e,t){let n;return function(o){n||(n=setTimeout((()=>(e(o),n=void 0)),t))}}function debounce(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e(...o)}),t)}}function arrayColumn(e,t,n){if(void 0===n)return e.map((function(e,n){return e[t]}));{let o=[];return e.forEach((function(e,i){if(void 0===e||void 0===e[t])return!0;o[e[t]]=e[n]})),o}}function sendMessage(e,t=[],n=!1,o=4e3){message=translate(e,t);let i="message-"+Date.now(),s=$(`<div id="${i}" class="message animate-in"><div class="message-inner">${message}</div></div>`);s.appendTo(".message-area"),1==n&&s.addClass("is-error"),userPrefersReducedMotion()?setTimeout((()=>{s.remove()}),o):setTimeout((()=>{s.removeClass("animate-in"),setTimeout((()=>{s.addClass("animate-out"),setTimeout((()=>{s.remove()}),600)}),o)}),10)}function urlParam(e){let t=String(window.location).split("?");return queryStr="?"+t[t.length-1],new URLSearchParams(queryStr).get(e)}function saveState(e,t,n=null){return new Promise(((o,i)=>{HomioPi.api.call("user-set-setting",{key:e,value:t,uuid:n}).then((()=>{o()})).catch((()=>{i()}))}))}function isArray(e){return!!e&&e.constructor===Array}function isObject(e){return!!e&&e.constructor===Object}$.fn.hasAttr=function(e){return void 0!==this.attr(e)},$.fn.showLoading=function(e=0){0==this.find("> .loading-icon").length&&(this.append('<div class="loading-icon pl-1"><i class="far fa-circle-notch fa-spin loading-icon-inner text-category"></i></div>'),e>0&&setTimeout((()=>{this.hideLoading()}),e))},$.fn.hideLoading=function(){this.find("> .loading-icon").length>=0&&this.find("> .loading-icon").remove()},$(document).ready((function(){$(".popup-shield").click((function(){hidePopup($(".popup.show, .popup-dialog.show").last())})),$(document).on("keydown",(function(e){"Escape"==e.key&&$(".popup-shield").trigger("click")})),$(".popup-close").click((function(){$(".popup-shield").trigger("click")}))})),String.prototype.replaceAll=function(e,t){return void 0===t?this.toString():this.split(e).join(t)};